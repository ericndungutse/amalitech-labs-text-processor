<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.ndungutse.text_processor.UIController"
            prefWidth="900" prefHeight="600">

    <!-- Center: Main File Editor and Regex Controls -->
    <center>
        <VBox alignment="CENTER" spacing="20.0">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <TextArea fx:id="textArea" prefHeight="400" prefWidth="600"/>

            <!-- Regex Controls -->
            <HBox spacing="10" alignment="CENTER">
                <Label text="Pattern:"/>
                <TextField fx:id="patternField" promptText="Enter regex pattern" prefWidth="200"/>
                <Label text="Replace with:"/>
                <TextField fx:id="replaceField" promptText="Replacement text" prefWidth="200"/>
            </HBox>

            <HBox spacing="10" alignment="CENTER">
                <Button text="Match Pattern" onAction="#handleMatchPattern"/>
                <Button text="Replace All" onAction="#handleReplaceAll"/>
                <Label fx:id="regexStatusLabel" text="" style="-fx-text-fill: red;"/>
            </HBox>

            <HBox spacing="10" alignment="CENTER">
                <Button text="Previous Match" onAction="#handlePreviousMatch" fx:id="previousMatchButton" disable="true"/>
                <Button text="Next Match" onAction="#handleNextMatch" fx:id="nextMatchButton" disable="true"/>
            </HBox>

            <HBox spacing="10">
                <Button text="Load File" onAction="#handleLoadFile"/>
                <Button text="Save File" onAction="#handleSaveFile"/>
            </HBox>
        </VBox>
    </center>

    <!-- Right: Batch File Processing Panel -->
    <right>
        <VBox spacing="10" alignment="TOP_CENTER" prefWidth="300" style="-fx-background-color: #f5f5f5;">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <Label text="Batch File Processing" style="-fx-font-weight: bold; -fx-font-size: 16;"/>

            <Button text="Select Files" onAction="#handleFilesSelect" maxWidth="Infinity"/>

            <!-- ListView to show selected files -->
            <ListView fx:id="fileListView" prefHeight="200" prefWidth="280"/>

            <!-- Batch Regex Replace Section -->
            <Separator />

            <Label text="Batch Regex Replace" style="-fx-font-weight: bold; -fx-font-size: 14;"/>

            <HBox spacing="10" alignment="CENTER">
                <Label text="Pattern:"/>
                <TextField fx:id="batchPatternField" promptText="Regex pattern" prefWidth="180"/>
            </HBox>

            <HBox spacing="10" alignment="CENTER">
                <Label text="Replace:"/>
                <TextField fx:id="batchReplaceField" promptText="Replacement text" prefWidth="180"/>
            </HBox>

            <Button text="Apply to All Files" onAction="#handleBatchReplace" maxWidth="Infinity"/>

            <Label fx:id="batchRegexStatusLabel" text="" style="-fx-text-fill: green;"/>

            <!-- New Button for Removing Duplicate Lines -->
            <Button text="Remove Duplicate Lines" onAction="#handleRemoveDuplicatesInBatch" maxWidth="Infinity"/>

            <Label fx:id="batchDuplicateStatusLabel" text="" style="-fx-text-fill: green;"/>
        </VBox>
    </right>
</BorderPane>
